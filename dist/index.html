<!doctype html><html><head><meta charset="utf-8"/><title>Save Image As Preview</title><script defer="defer" src="save-image-as.js"></script></head><body><img id="result"/> <input type="file" accept=".jpg,.jpeg,.png,.tiff,.svg," id="imageFile"/><script>window.addEventListener("load", () => {
        const file = document.getElementById("imageFile");
        const maxImageWidth = 200;
        const saveImageAs = SaveImageAs.JPG(maxImageWidth, 1);

        file &&
          file.addEventListener("change", e => {
            saveImageAs
              .onChange(e)
              .then(base => {
                console.log("done!");
                document.getElementById("result").src = base;
              })
              .catch(err => {
                console.log("error: ", err);
              });
          });
      });</script></body></html>