window.saveImageAs=function(){"use strict";var e={514:function(e,t,n){var o,r;n.r(t),n.d(t,{JPG:function(){return u},PNG:function(){return a},SaveImageAs:function(){return l},WEBP:function(){return d}}),function(e){e.JPG="image/jpeg",e.PNG="image/png",e.WEBP="image/webp"}(o||(o={})),function(e){e.COULD_NOT_READ="COULD_NOT_READ",e.ABORTED="ABORTED",e.EMPTY_TRANSFER="EMPTY_TRANSFER",e.IMAGE_COULD_NOT_LOADED="IMAGE_COULD_NOT_LOADED",e.FILE_HAS_NO_READIBLE_DATA="FILE_HAS_NO_READIBLE_DATA",e.NO_IMAGE_FILE_SELECTED="NO_IMAGE_FILE_SELECTED"}(r||(r={}));var i=function(){function e(e){var t=e.maxImageWidth,n=void 0===t?200:t,r=e.exportFormat,i=void 0===r?o.PNG:r,a=e.exportQuality,u=void 0===a?.7:a;if(n<0||isNaN(n))throw new Error("`maxImageWidth` should be positive number");if(!Object.values(o).includes(i))throw new Error('"exportFormat" must be one of: '+Object.values(o).toString());if(isNaN(u)||u<0||u>1)throw new Error("`exportQuality` must be between 0 and 1");this.maxImageWidth=n,this.exportFormat=i,this.exportQuality=u}return e.prototype.cleanUp=function(e){document.body.removeChild(e)},e.prototype.imageLoaded=function(e){var t=this;return new Promise((function(n,o){var i=document.createElement("canvas"),a=i.getContext("2d"),u=t.maxImageWidth<e.width?e.width/t.maxImageWidth:1;i.width=e.width/u,i.height=e.height/u,null==a||a.drawImage(e,0,0,i.width,i.height);var d=new FileReader;d.onloadend=function(){var o=d.result;t.cleanUp(e),n((null==o?void 0:o.toString())||"")},d.onerror=function(){t.cleanUp(e),o(r.COULD_NOT_READ)},d.onabort=function(){t.cleanUp(e),o(r.ABORTED)},i.toBlob((function(n){null!==n?d.readAsDataURL(n):(t.cleanUp(e),o(r.EMPTY_TRANSFER))}),t.exportFormat,t.exportQuality)}))},e.prototype.imageData=function(e){var t=this;return new Promise((function(n,o){var i=document.createElement("img");document.body.appendChild(i),i.style.position="fixed",i.style.opacity="0",i.style.left=-100*t.maxImageWidth+"px",i.addEventListener("load",(function(){n(t.imageLoaded(i))})),i.addEventListener("error",(function(){o(r.IMAGE_COULD_NOT_LOADED),t.cleanUp(i)})),i.src=e}))},e.prototype.onChange=function(e){var t=this,n=e.target;return new Promise((function(e,o){if((null==n?void 0:n.files)&&n.files.length>0){var i=new FileReader;i.onload=function(n){var i,a=null===(i=n.target)||void 0===i?void 0:i.result;a?e(t.imageData(a.toString())):o(r.FILE_HAS_NO_READIBLE_DATA)},i.readAsDataURL(n.files[0])}else o(r.NO_IMAGE_FILE_SELECTED)}))},e}(),a=function(e,t){return new i({maxImageWidth:e,exportFormat:o.PNG,exportQuality:t})},u=function(e,t){return new i({maxImageWidth:e,exportFormat:o.JPG,exportQuality:t})},d=function(e,t){return new i({maxImageWidth:e,exportFormat:o.WEBP,exportQuality:t})},l=i}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}return n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(514)}();
//# sourceMappingURL=save-image-as.js.map